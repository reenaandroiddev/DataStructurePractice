package com.prep.sorting.sortunsortedarray;

import java.util.Arrays;

public class JSortTheUnsortedArray {
  public static void main(String[] args) {

    System.out.println(solve(new int[]{-999719982, -997706828, -997691325, -995251776, -990849335, -988481354, -981629779, -868737744, -120351267, 64788082, 228415163, 614611823, 640974381, -452682129, -965876048, 783056532, -453532535, 833834653, -987591077, 817673675, -544684968, -401051410, 132395537, 572296099, 353540327, -703539499, -766132674, 767205598, -279256033, 315415674, -152640056, -464821584, -167380503, -469901855, 559665312, 48354254, 170817182, -561161308, 83573785, 140331344, 737127606, 99308049, -43574593, 495163194, 595089965, -114946743, 616204212, 766575935, 967480596, 996730531, 998082304, 998152496, 998830044, 999684899, 999958768, 999995103, 999997947, 999998705, 999998949, 999999849, 999999855, 999999857, 999999974, 999999977, 999999999, 1000000000, 1000000000, 1000000000, 1000000000, 1000000000, 1000000000, 1000000000, 1000000000, 1000000000, 1000000000, 1000000000, 1000000000, 1000000000, 1000000000, 1000000000, 1000000000, 1000000000, 1000000000, 1000000000, 1000000000, 1000000000, 1000000000, 1000000000, 1000000000, 1000000000, 1000000000, 1000000000}));
  }

  public static int solve(int[] A) {
    int[] clone = Arrays.copyOf(A, A.length);

    Arrays.sort(clone);


    int start = clone.length - 1;
    int end = 0;
    for (int i = 0; i < A.length; i++) {
      if (clone[i] != A[i]) {
        start = Math.min(start, i);
        end = Math.max(end, i);
      }
    }

    return (end - start >= 0 ? end - start + 1 : 0);
  }
}
